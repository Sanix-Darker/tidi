var e,t,n,_,r,o,l,u,i,s,a,c={},f=[],p=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,h=Array.isArray;function d(e,t){for(var n in t)e[n]=t[n];return e}function m(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function v(t,n,_){var r,o,l,u={};for(l in n)"key"==l?r=n[l]:"ref"==l?o=n[l]:u[l]=n[l];if(arguments.length>2&&(u.children=arguments.length>3?e.call(arguments,2):_),"function"==typeof t&&null!=t.defaultProps)for(l in t.defaultProps)void 0===u[l]&&(u[l]=t.defaultProps[l]);return g(t,u,r,o,null)}function g(e,_,r,o,l){var u={type:e,props:_,key:r,ref:o,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:null==l?++n:l,__i:-1,__u:0};return null==l&&null!=t.vnode&&t.vnode(u),u}function y(e){return e.children}function b(e,t){this.props=e,this.context=t}function k(e,t){if(null==t)return e.__?k(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?k(e):null}function w(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return w(e)}}function S(e){(!e.__d&&(e.__d=!0)&&_.push(e)&&!D.__r++||r!=t.debounceRendering)&&((r=t.debounceRendering)||o)(D)}function D(){for(var e,n,r,o,u,i,s,a=1;_.length;)_.length>a&&_.sort(l),e=_.shift(),a=_.length,e.__d&&(r=void 0,u=(o=(n=e).__v).__e,i=[],s=[],n.__P&&((r=d({},o)).__v=o.__v+1,t.vnode&&t.vnode(r),A(n.__P,r,o,n.__n,n.__P.namespaceURI,32&o.__u?[u]:null,i,null==u?k(o):u,!!(32&o.__u),s),r.__v=o.__v,r.__.__k[r.__i]=r,T(i,r,s),r.__e!=u&&w(r)));D.__r=0}function N(e,t,n,_,r,o,l,u,i,s,a){var p,d,m,v,b,w,S=_&&_.__k||f,D=t.length;for(i=function(e,t,n,_,r){var o,l,u,i,s,a=n.length,c=a,f=0;for(e.__k=new Array(r),o=0;o<r;o++)null!=(l=t[o])&&"boolean"!=typeof l&&"function"!=typeof l?(i=o+f,(l=e.__k[o]="string"==typeof l||"number"==typeof l||"bigint"==typeof l||l.constructor==String?g(null,l,null,null,null):h(l)?g(y,{children:l},null,null,null):null==l.constructor&&l.__b>0?g(l.type,l.props,l.key,l.ref?l.ref:null,l.__v):l).__=e,l.__b=e.__b+1,u=null,-1!=(s=l.__i=x(l,n,i,c))&&(c--,(u=n[s])&&(u.__u|=2)),null==u||null==u.__v?(-1==s&&(r>a?f--:r<a&&f++),"function"!=typeof l.type&&(l.__u|=4)):s!=i&&(s==i-1?f--:s==i+1?f++:(s>i?f--:f++,l.__u|=4))):e.__k[o]=null;if(c)for(o=0;o<a;o++)null!=(u=n[o])&&!(2&u.__u)&&(u.__e==_&&(_=k(u)),M(u,u));return _}(n,t,S,i,D),p=0;p<D;p++)null!=(m=n.__k[p])&&(d=-1==m.__i?c:S[m.__i]||c,m.__i=p,w=A(e,m,d,r,o,l,u,i,s,a),v=m.__e,m.ref&&d.ref!=m.ref&&(d.ref&&U(d.ref,null,m),a.push(m.ref,m.__c||v,m)),null==b&&null!=v&&(b=v),4&m.__u||d.__k===m.__k?i=C(m,i,e):"function"==typeof m.type&&void 0!==w?i=w:v&&(i=v.nextSibling),m.__u&=-7);return n.__e=b,i}function C(e,t,n){var _,r;if("function"==typeof e.type){for(_=e.__k,r=0;_&&r<_.length;r++)_[r]&&(_[r].__=e,t=C(_[r],t,n));return t}e.__e!=t&&(t&&e.type&&!n.contains(t)&&(t=k(e)),n.insertBefore(e.__e,t||null),t=e.__e);do{t=t&&t.nextSibling}while(null!=t&&8==t.nodeType);return t}function x(e,t,n,_){var r,o,l=e.key,u=e.type,i=t[n];if(null===i&&null==e.key||i&&l==i.key&&u==i.type&&!(2&i.__u))return n;if(_>(null==i||2&i.__u?0:1))for(r=n-1,o=n+1;r>=0||o<t.length;){if(r>=0){if((i=t[r])&&!(2&i.__u)&&l==i.key&&u==i.type)return r;r--}if(o<t.length){if((i=t[o])&&!(2&i.__u)&&l==i.key&&u==i.type)return o;o++}}return-1}function E(e,t,n){"-"==t[0]?e.setProperty(t,null==n?"":n):e[t]=null==n?"":"number"!=typeof n||p.test(t)?n:n+"px"}function H(e,t,n,_,r){var o,l;e:if("style"==t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof _&&(e.style.cssText=_=""),_)for(t in _)n&&t in n||E(e.style,t,"");if(n)for(t in n)_&&n[t]==_[t]||E(e.style,t,n[t])}else if("o"==t[0]&&"n"==t[1])o=t!=(t=t.replace(u,"$1")),l=t.toLowerCase(),t=l in e||"onFocusOut"==t||"onFocusIn"==t?l.slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=n,n?_?n.u=_.u:(n.u=i,e.addEventListener(t,o?a:s,o)):e.removeEventListener(t,o?a:s,o);else{if("http://www.w3.org/2000/svg"==r)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=t&&"height"!=t&&"href"!=t&&"list"!=t&&"form"!=t&&"tabIndex"!=t&&"download"!=t&&"rowSpan"!=t&&"colSpan"!=t&&"role"!=t&&"popover"!=t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null==n||!1===n&&"-"!=t[4]?e.removeAttribute(t):e.setAttribute(t,"popover"==t&&1==n?"":n))}}function P(e){return function(n){if(this.l){var _=this.l[n.type+e];if(null==n.t)n.t=i++;else if(n.t<_.u)return;return _(t.event?t.event(n):n)}}}function A(e,n,_,r,o,l,u,i,s,a){var c,f,p,v,g,k,w,S,D,C,x,E,H,P,A,T,U,M=n.type;if(null!=n.constructor)return null;128&_.__u&&(s=!!(32&_.__u),l=[i=n.__e=_.__e]),(c=t.__b)&&c(n);e:if("function"==typeof M)try{if(S=n.props,D="prototype"in M&&M.prototype.render,C=(c=M.contextType)&&r[c.__c],x=c?C?C.props.value:c.__:r,_.__c?w=(f=n.__c=_.__c).__=f.__E:(D?n.__c=f=new M(S,x):(n.__c=f=new b(S,x),f.constructor=M,f.render=B),C&&C.sub(f),f.props=S,f.state||(f.state={}),f.context=x,f.__n=r,p=f.__d=!0,f.__h=[],f._sb=[]),D&&null==f.__s&&(f.__s=f.state),D&&null!=M.getDerivedStateFromProps&&(f.__s==f.state&&(f.__s=d({},f.__s)),d(f.__s,M.getDerivedStateFromProps(S,f.__s))),v=f.props,g=f.state,f.__v=n,p)D&&null==M.getDerivedStateFromProps&&null!=f.componentWillMount&&f.componentWillMount(),D&&null!=f.componentDidMount&&f.__h.push(f.componentDidMount);else{if(D&&null==M.getDerivedStateFromProps&&S!==v&&null!=f.componentWillReceiveProps&&f.componentWillReceiveProps(S,x),!f.__e&&null!=f.shouldComponentUpdate&&!1===f.shouldComponentUpdate(S,f.__s,x)||n.__v==_.__v){for(n.__v!=_.__v&&(f.props=S,f.state=f.__s,f.__d=!1),n.__e=_.__e,n.__k=_.__k,n.__k.some(function(e){e&&(e.__=n)}),E=0;E<f._sb.length;E++)f.__h.push(f._sb[E]);f._sb=[],f.__h.length&&u.push(f);break e}null!=f.componentWillUpdate&&f.componentWillUpdate(S,f.__s,x),D&&null!=f.componentDidUpdate&&f.__h.push(function(){f.componentDidUpdate(v,g,k)})}if(f.context=x,f.props=S,f.__P=e,f.__e=!1,H=t.__r,P=0,D){for(f.state=f.__s,f.__d=!1,H&&H(n),c=f.render(f.props,f.state,f.context),A=0;A<f._sb.length;A++)f.__h.push(f._sb[A]);f._sb=[]}else do{f.__d=!1,H&&H(n),c=f.render(f.props,f.state,f.context),f.state=f.__s}while(f.__d&&++P<25);f.state=f.__s,null!=f.getChildContext&&(r=d(d({},r),f.getChildContext())),D&&!p&&null!=f.getSnapshotBeforeUpdate&&(k=f.getSnapshotBeforeUpdate(v,g)),T=c,null!=c&&c.type===y&&null==c.key&&(T=O(c.props.children)),i=N(e,h(T)?T:[T],n,_,r,o,l,u,i,s,a),f.base=n.__e,n.__u&=-161,f.__h.length&&u.push(f),w&&(f.__E=f.__=null)}catch(e){if(n.__v=null,s||null!=l)if(e.then){for(n.__u|=s?160:128;i&&8==i.nodeType&&i.nextSibling;)i=i.nextSibling;l[l.indexOf(i)]=null,n.__e=i}else for(U=l.length;U--;)m(l[U]);else n.__e=_.__e,n.__k=_.__k;t.__e(e,n,_)}else null==l&&n.__v==_.__v?(n.__k=_.__k,n.__e=_.__e):i=n.__e=I(_.__e,n,_,r,o,l,u,s,a);return(c=t.diffed)&&c(n),128&n.__u?void 0:i}function T(e,n,_){for(var r=0;r<_.length;r++)U(_[r],_[++r],_[++r]);t.__c&&t.__c(n,e),e.some(function(n){try{e=n.__h,n.__h=[],e.some(function(e){e.call(n)})}catch(e){t.__e(e,n.__v)}})}function O(e){return"object"!=typeof e||null==e||e.__b&&e.__b>0?e:h(e)?e.map(O):d({},e)}function I(n,_,r,o,l,u,i,s,a){var f,p,d,v,g,y,b,w=r.props,S=_.props,D=_.type;if("svg"==D?l="http://www.w3.org/2000/svg":"math"==D?l="http://www.w3.org/1998/Math/MathML":l||(l="http://www.w3.org/1999/xhtml"),null!=u)for(f=0;f<u.length;f++)if((g=u[f])&&"setAttribute"in g==!!D&&(D?g.localName==D:3==g.nodeType)){n=g,u[f]=null;break}if(null==n){if(null==D)return document.createTextNode(S);n=document.createElementNS(l,D,S.is&&S),s&&(t.__m&&t.__m(_,u),s=!1),u=null}if(null==D)w===S||s&&n.data==S||(n.data=S);else{if(u=u&&e.call(n.childNodes),w=r.props||c,!s&&null!=u)for(w={},f=0;f<n.attributes.length;f++)w[(g=n.attributes[f]).name]=g.value;for(f in w)if(g=w[f],"children"==f);else if("dangerouslySetInnerHTML"==f)d=g;else if(!(f in S)){if("value"==f&&"defaultValue"in S||"checked"==f&&"defaultChecked"in S)continue;H(n,f,null,g,l)}for(f in S)g=S[f],"children"==f?v=g:"dangerouslySetInnerHTML"==f?p=g:"value"==f?y=g:"checked"==f?b=g:s&&"function"!=typeof g||w[f]===g||H(n,f,g,w[f],l);if(p)s||d&&(p.__html==d.__html||p.__html==n.innerHTML)||(n.innerHTML=p.__html),_.__k=[];else if(d&&(n.innerHTML=""),N("template"==_.type?n.content:n,h(v)?v:[v],_,r,o,"foreignObject"==D?"http://www.w3.org/1999/xhtml":l,u,i,u?u[0]:r.__k&&k(r,0),s,a),null!=u)for(f=u.length;f--;)m(u[f]);s||(f="value","progress"==D&&null==y?n.removeAttribute("value"):null!=y&&(y!==n[f]||"progress"==D&&!y||"option"==D&&y!=w[f])&&H(n,f,y,w[f],l),f="checked",null!=b&&b!=n[f]&&H(n,f,b,w[f],l))}return n}function U(e,n,_){try{if("function"==typeof e){var r="function"==typeof e.__u;r&&e.__u(),r&&null==n||(e.__u=e(n))}else e.current=n}catch(e){t.__e(e,_)}}function M(e,n,_){var r,o;if(t.unmount&&t.unmount(e),(r=e.ref)&&(r.current&&r.current!=e.__e||U(r,null,n)),null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){t.__e(e,n)}r.base=r.__P=null}if(r=e.__k)for(o=0;o<r.length;o++)r[o]&&M(r[o],n,_||"function"!=typeof e.type);_||m(e.__e),e.__c=e.__=e.__e=void 0}function B(e,t,n){return this.constructor(e,n)}e=f.slice,t={__e:function(e,t,n,_){for(var r,o,l;t=t.__;)if((r=t.__c)&&!r.__)try{if((o=r.constructor)&&null!=o.getDerivedStateFromError&&(r.setState(o.getDerivedStateFromError(e)),l=r.__d),null!=r.componentDidCatch&&(r.componentDidCatch(e,_||{}),l=r.__d),l)return r.__E=r}catch(t){e=t}throw e}},n=0,b.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!=this.state?this.__s:this.__s=d({},this.state),"function"==typeof e&&(e=e(d({},n),this.props)),e&&d(n,e),null!=e&&this.__v&&(t&&this._sb.push(t),S(this))},b.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),S(this))},b.prototype.render=y,_=[],o="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,l=function(e,t){return e.__v.__b-t.__v.__b},D.__r=0,u=/(PointerCapture)$|Capture$/i,i=0,s=P(!1),a=P(!0);var K,L,W,F,$=function(e){var t,n=e.selector,_=e.inline,r=e.clientSpecified,o=[],l=document.currentScript||(t=document.getElementsByTagName("script"))[t.length-1];return!0===_&&o.push(l.parentNode),!0!==r||n||(n=function(e){var t=e.attributes,n=null;return Object.keys(t).forEach(function(e){t.hasOwnProperty(e)&&"data-mount-in"===t[e].name&&(n=t[e].nodeValue)}),n}(l)),n&&[].forEach.call(document.querySelectorAll(n),function(e){o.push(e)}),o},R=0,G=[],j=t,q=j.__b,V=j.__r,J=j.diffed,z=j.__c,X=j.unmount,Q=j.__;function Y(e,t){j.__h&&j.__h(L,e,R||t),R=0;var n=L.__H||(L.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function Z(e){return R=1,function(e,t){var n=Y(K++,2);if(n.t=e,!n.__c&&(n.__=[ie(void 0,t),function(e){var t=n.__N?n.__N[0]:n.__[0],_=n.t(t,e);t!==_&&(n.__N=[_,n.__[1]],n.__c.setState({}))}],n.__c=L,!L.__f)){var _=function(e,t,_){if(!n.__c.__H)return!0;var o=n.__c.__H.__.filter(function(e){return!!e.__c});if(o.every(function(e){return!e.__N}))return!r||r.call(this,e,t,_);var l=n.__c.props!==e;return o.forEach(function(e){if(e.__N){var t=e.__[0];e.__=e.__N,e.__N=void 0,t!==e.__[0]&&(l=!0)}}),r&&r.call(this,e,t,_)||l};L.__f=!0;var r=L.shouldComponentUpdate,o=L.componentWillUpdate;L.componentWillUpdate=function(e,t,n){if(this.__e){var l=r;r=void 0,_(e,t,n),r=l}o&&o.call(this,e,t,n)},L.shouldComponentUpdate=_}return n.__N||n.__}(ie,e)}function ee(e,t){var n=Y(K++,3);!j.__s&&ue(n.__H,t)&&(n.__=e,n.u=t,L.__H.__h.push(n))}function te(e){return R=5,function(e,t){var n=Y(K++,7);return ue(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}(function(){return{current:e}},[])}function ne(){for(var e;e=G.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(oe),e.__H.__h.forEach(le),e.__H.__h=[]}catch(t){e.__H.__h=[],j.__e(t,e.__v)}}j.__b=function(e){L=null,q&&q(e)},j.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),Q&&Q(e,t)},j.__r=function(e){V&&V(e),K=0;var t=(L=e.__c).__H;t&&(W===L?(t.__h=[],L.__h=[],t.__.forEach(function(e){e.__N&&(e.__=e.__N),e.u=e.__N=void 0})):(t.__h.forEach(oe),t.__h.forEach(le),t.__h=[],K=0)),W=L},j.diffed=function(e){J&&J(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==G.push(t)&&F===j.requestAnimationFrame||((F=j.requestAnimationFrame)||re)(ne)),t.__H.__.forEach(function(e){e.u&&(e.__H=e.u),e.u=void 0})),W=L=null},j.__c=function(e,t){t.some(function(e){try{e.__h.forEach(oe),e.__h=e.__h.filter(function(e){return!e.__||le(e)})}catch(n){t.some(function(e){e.__h&&(e.__h=[])}),t=[],j.__e(n,e.__v)}}),z&&z(e,t)},j.unmount=function(e){X&&X(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(e){try{oe(e)}catch(e){t=e}}),n.__H=void 0,t&&j.__e(t,n.__v))};var _e="function"==typeof requestAnimationFrame;function re(e){var t,n=function(){clearTimeout(_),_e&&cancelAnimationFrame(t),setTimeout(e)},_=setTimeout(n,35);_e&&(t=requestAnimationFrame(n))}function oe(e){var t=L,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),L=t}function le(e){var t=L;e.__c=e.__(),L=t}function ue(e,t){return!e||e.length!==t.length||t.some(function(t,n){return t!==e[n]})}function ie(e,t){return"function"==typeof t?t(e):t}const se=["Blue","Brown","BurlyWood","Cyan","DarkBlue","DarkCyan","DarkGray","DarkGrey","DarkGreen","DarkKhaki","DarkMagenta","DarkOliveGreen","DarkOrange","DarkOrchid","DarkRed","DarkSalmon","DarkSlateBlue","DarkSlateGray","DarkSlateGrey","DarkTurquoise","DarkViolet","DeepSkyBlue","DimGray","DimGrey","DodgerBlue","Gainsboro","Gray","Green","Indigo","LavenderBlush","LawnGreen","Magenta","Maroon","PowderBlue","Purple","RebeccaPurple","Red","RosyBrown","RoyalBlue","SaddleBrown","Salmon","SandyBrown","Silver","SteelBlue","Thistle","Turquoise","Violet"],ae=["❤️ ","✋","👍","👎","😂","😍","😐","💀","😡","😳"];String.prototype.escape=function(){return this.replace(/[&<div>]/g,function(e){return{"&":"&amp;","<":"&lt;",">":"&gt;",";":"_","\\\\":"_","//":"_","^":"_","|":"_","%":"_",$:"_"}[e]||e})};const ce=e=>localStorage.getItem(e),fe=(e,t)=>localStorage.setItem(e,t),pe=e=>JSON.stringify(e),he=e=>{let t=-3;for(let n=0;n<e.length;n++){let _=e.toUpperCase().charCodeAt(n);_>64&&_<91&&(t+=_-64)}return t>0?t:Math.random()*se.length|0},de=({usrname:e,color:t,href:n,isAdmin:_=!1})=>v("a",{className:"tsc-usrname",style:{color:t},title:_?"admin":"user",href:n},_?"*":null,e,":"),me=({usrname:e,href:t,message:n,isAdmin:_=!1})=>v("div",{className:"tsc-msg"},v(de,{usrname:e,href:t,isAdmin:_,color:`${se[he(e.slice(0,5))]}`}),"  ",n.escape()),ve=({conn:e})=>{const[t,n]=Z([]),_=te(null);return ee(()=>{e.onmessage=e=>{try{const r=JSON.parse(e.data);r.hasOwnProperty("author")&&r.hasOwnProperty("message")&&(e=>{n(t.concat({usrname:null==e.author?"x":e.author,message:e.message}).slice(Math.max(t.length-100,0))),setTimeout(()=>{var e;null==(e=_.current)||e.scrollIntoView({behavior:"smooth"})},150)})(r)}catch(e){console.log("tsc-err: ",e)}}},[t]),v("div",{id:"tsc-messages",className:"tsc-scroll-shadows"},0==t.length?v("div",{className:"tsc-no-msg"},"No messages yet, be the first to post a message !"):t.map((e,t)=>v(me,{usrname:e.usrname,key:t,href:e.href,message:e.message,isAdmin:!!e.isAdmin&&e.isAdmin}))," ",v("div",{ref:_}))},ge=e=>(e=>{let t;try{t=new URL(e)}catch(e){return!1}return"http:"===t.protocol||"https:"===t.protocol})(e)&&e.includes("twitter.com")&&e.includes("space")?e.split("/")[e.split("/").length-1].split("?")[0]:"";let ye="";const be=(e,t,n="subscribe")=>{const _={action:n,topic:`${Se(t)}`};e.send(pe(_)),console.log(`tsc::${n} on ${t}`)},ke=(e,t,n="subscribe")=>{null!==ce("roomKey")&&(ye=ce("roomKey")),ye.length>0&&be(e,ye,"unsubscribe"),be(e,t)},we=(e,t,n,_,r=1)=>{13===r&&_.length>0&&"roomKey"===n&&ke(t,_),fe(n,_)},Se=e=>(e=>null==e?"0":e.split("").reduce(function(e,t){return(e=(e<<5)-e+t.charCodeAt(0))&e},0))(ge(e).length>0?ge(e):e),De=({conn:e,setSettingsActive:t,usr:n=""})=>{const[_,r]=Z(ce("roomKey")),[o,l]=Z("null"!==n&&null!==n?n.length>0?n:null!==ce("usrIn")&&"null"!==ce("usrIn")?ce("usrIn"):"":""),u="Write a room Key",i="Write your username";return fe("usrIn",o),v("div",{id:"tsc-setting-box"},v("h2",null,"tidi-settings"),v("hr",null),v("b",null,Se(_),"|",o),v("hr",null),v("small",null,u,": ",v("b",null,_)),v("input",{type:"text",className:"tsc-setting-input",placeholder:u,onChange:e=>{""!==e.target.value&&fe("roomKey",e.target.value),r(e.target.value)},onKeyUp:t=>we(0,e,"roomKey",t.target.value,t.target.keyCode),value:_}),0==n.length?v("span",null,v("small",null,i,": ",v("b",null,o)),v("input",{className:"tsc-setting-input",type:"text",onChange:e=>{""!==e.target.value&&fe("usrIn",e.target.value),l(e.target.value)},onKeyUp:t=>we(0,e,"usrIn",t.target.value,t.target.keyCode),placeholder:i,value:o})):null,v("br",null),v("button",{className:"tsc-setting-connect",onClick:()=>{if(0==_.length&&0==o.length)return void alert("These credentials cannot be empty...");we(0,e,"roomKey",_,13),we(0,e,"usrIn",o,13);const n={action:"goo",topic:_,message:pe({u:o,r:`${Se(_)}`})};console.log(n),e.send(pe(n)),t(!1)}},"CONNECT TO THE ROOM"),v("br",null),v("br",null),v("div",{className:"tsc-foot"},"by ",v("a",{target:"_blank",href:"https://twitter.com/sanixdarker"},"@sanixdarker")),v("br",null))},Ne=({conn:e,setSettingsActive:t,usr:n="",isSettingsActive:_=!1})=>v("div",null,v("div",{style:{display:_?"block":"none"}},v(De,{setSettingsActive:t,conn:e,usr:n})),v("div",{style:{display:_?"none":"block"}},v(ve,{conn:e})));let Ce="",xe=Date.now(),Ee=(He=function({conn:e,usr:t}){const[n,_]=Z(!0),[r,o]=Z(!1),[l,u]=Z(""),i=te(null);return ee(()=>{null!==ce("roomKey")&&ke(e,ce("roomKey"))},[]),ee(()=>{i.current.focus()},[l]),v("div",{id:"tsc-ttspch-box"},v("div",{className:n?"tsc-hide":"tsc-show"},v(Ne,{conn:e,setSettingsActive:o,isSettingsActive:r,usr:t}),r?null:v("div",null,v(()=>v("div",{className:"tsc-emojibox"},ae.map((e,t)=>v("button",{key:t,onClick:()=>u(`${l}${e}`)},e))),null),v(()=>v("input",{type:"text",maxlength:"130",onChange:e=>u(e.target.value),onKeyUp:t=>(t=>{if(13===t.keyCode){if(null==ce("usrIn")||"null"==ce("usrIn"))return void alert("Please set up your username.");if(null==ce("roomKey")||"null"==ce("roomKey"))return void alert("Please set up your roomKey.");if(t.target.value.length>0){const n=t.target.value;if(n.length>0){if(Ce!=n||Date.now()-xe>1e4){Ce=n,xe=Date.now();const t={author:ce("usrIn").escape().substring(0,13),message:n.escape().substring(0,120)},_={action:"publish",topic:`${Se(ce("roomKey"))}`,message:pe(t)};setTimeout(()=>{e.send(pe(_))},1e3)}u("")}}}})(t),value:l,autoComplete:"off",autoFocus:!0,ref:i,placeholder:"Enter your message here...",id:"tsc-text-box"}),null))),v(()=>v("button",{onClick:()=>_(!n),className:"tsc-toggle-button "+(n?"":"tsc-hide-button")},n?"HIDE":"SHOW"," TIDI BOX"),null),n?v("button",{onClick:()=>o(!r)},"⚙️"):null)},Pe=He,{render:function(n){void 0===n&&(n={});var _=n.selector;void 0===_&&(_=null);var r=n.inline;void 0===r&&(r=!1);var o=n.clean;void 0===o&&(o=!1);var l=n.clientSpecified;void 0===l&&(l=!1);var u=n.defaultProps;void 0===u&&(u={});var i=$({selector:_,inline:r,clientSpecified:l}),s=function(){if(i.length>0){var n=$({selector:_,inline:r,clientSpecified:l});return function(n,_,r,o,l){_.forEach(function(_){var r=_;if(!r._habitat){r._habitat=!0;var u=function(e,t){void 0===t&&(t={});var n=e.attributes,_=Object.assign({},t);return Object.keys(n).forEach(function(e){if(n.hasOwnProperty(e)){var t=n[e].name;if(!t||"string"!=typeof t)return!1;var r=t.split(/(data-props?-)/).pop()||"";t!==(r=r.replace(/-([a-z])/gi,function(e,t){return t.toUpperCase()}))&&(_[r]=n[e].nodeValue)}}),[].forEach.call(e.getElementsByTagName("script"),function(e){var t={};if(e.hasAttribute("type")){if("text/props"!==e.getAttribute("type")&&"application/json"!==e.getAttribute("type"))return;try{t=JSON.parse(e.innerHTML)}catch(e){throw new Error(e)}Object.assign(_,t)}}),_}(_,l)||l;return o&&(r.innerHTML=""),function(n,_){var r,o,l;_==document&&(_=document.documentElement),t.__&&t.__(n,_),r=_.__k,o=[],l=[],A(_,n=_.__k=v(y,null,[n]),r||c,c,_.namespaceURI,r?null:_.firstChild?e.call(_.childNodes):null,o,r?r.__e:_.firstChild,!1,l),T(o,n,l)}(v(n,u),r)}})}(Pe,n,0,o,u)}};s(),document.addEventListener("DOMContentLoaded",s),document.addEventListener("load",s)}});var He,Pe;const Ae=new WebSocket("ws://127.0.0.1:1324/socket");Ee.render({selector:"[data-tidi-component]",defaultProps:{conn:Ae,usr:""},clean:!0});
//# sourceMappingURL=index.modern.mjs.map
