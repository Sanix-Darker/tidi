var e,n,t,r,_,o,u,l,i,c,a,s={},f=[],p=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,h=Array.isArray;function d(e,n){for(var t in n)e[t]=n[t];return e}function v(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function m(n,t,r){var _,o,u,l={};for(u in t)"key"==u?_=t[u]:"ref"==u?o=t[u]:l[u]=t[u];if(arguments.length>2&&(l.children=arguments.length>3?e.call(arguments,2):r),"function"==typeof n&&null!=n.defaultProps)for(u in n.defaultProps)void 0===l[u]&&(l[u]=n.defaultProps[u]);return g(n,l,_,o,null)}function g(e,r,_,o,u){var l={type:e,props:r,key:_,ref:o,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:null==u?++t:u,__i:-1,__u:0};return null==u&&null!=n.vnode&&n.vnode(l),l}function y(e){return e.children}function b(e,n){this.props=e,this.context=n}function k(e,n){if(null==n)return e.__?k(e.__,e.__i+1):null;for(var t;n<e.__k.length;n++)if(null!=(t=e.__k[n])&&null!=t.__e)return t.__e;return"function"==typeof e.type?k(e):null}function w(e){var n,t;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,n=0;n<e.__k.length;n++)if(null!=(t=e.__k[n])&&null!=t.__e){e.__e=e.__c.base=t.__e;break}return w(e)}}function S(e){(!e.__d&&(e.__d=!0)&&r.push(e)&&!D.__r++||_!=n.debounceRendering)&&((_=n.debounceRendering)||o)(D)}function D(){for(var e,t,_,o,l,i,c,a=1;r.length;)r.length>a&&r.sort(u),e=r.shift(),a=r.length,e.__d&&(_=void 0,l=(o=(t=e).__v).__e,i=[],c=[],t.__P&&((_=d({},o)).__v=o.__v+1,n.vnode&&n.vnode(_),A(t.__P,_,o,t.__n,t.__P.namespaceURI,32&o.__u?[l]:null,i,null==l?k(o):l,!!(32&o.__u),c),_.__v=o.__v,_.__.__k[_.__i]=_,T(i,_,c),_.__e!=l&&w(_)));D.__r=0}function N(e,n,t,r,_,o,u,l,i,c,a){var p,d,v,m,b,w,S=r&&r.__k||f,D=n.length;for(i=function(e,n,t,r,_){var o,u,l,i,c,a=t.length,s=a,f=0;for(e.__k=new Array(_),o=0;o<_;o++)null!=(u=n[o])&&"boolean"!=typeof u&&"function"!=typeof u?(i=o+f,(u=e.__k[o]="string"==typeof u||"number"==typeof u||"bigint"==typeof u||u.constructor==String?g(null,u,null,null,null):h(u)?g(y,{children:u},null,null,null):null==u.constructor&&u.__b>0?g(u.type,u.props,u.key,u.ref?u.ref:null,u.__v):u).__=e,u.__b=e.__b+1,l=null,-1!=(c=u.__i=x(u,t,i,s))&&(s--,(l=t[c])&&(l.__u|=2)),null==l||null==l.__v?(-1==c&&(_>a?f--:_<a&&f++),"function"!=typeof u.type&&(u.__u|=4)):c!=i&&(c==i-1?f--:c==i+1?f++:(c>i?f--:f++,u.__u|=4))):e.__k[o]=null;if(s)for(o=0;o<a;o++)null!=(l=t[o])&&!(2&l.__u)&&(l.__e==r&&(r=k(l)),M(l,l));return r}(t,n,S,i,D),p=0;p<D;p++)null!=(v=t.__k[p])&&(d=-1==v.__i?s:S[v.__i]||s,v.__i=p,w=A(e,v,d,_,o,u,l,i,c,a),m=v.__e,v.ref&&d.ref!=v.ref&&(d.ref&&U(d.ref,null,v),a.push(v.ref,v.__c||m,v)),null==b&&null!=m&&(b=m),4&v.__u||d.__k===v.__k?i=C(v,i,e):"function"==typeof v.type&&void 0!==w?i=w:m&&(i=m.nextSibling),v.__u&=-7);return t.__e=b,i}function C(e,n,t){var r,_;if("function"==typeof e.type){for(r=e.__k,_=0;r&&_<r.length;_++)r[_]&&(r[_].__=e,n=C(r[_],n,t));return n}e.__e!=n&&(n&&e.type&&!t.contains(n)&&(n=k(e)),t.insertBefore(e.__e,n||null),n=e.__e);do{n=n&&n.nextSibling}while(null!=n&&8==n.nodeType);return n}function x(e,n,t,r){var _,o,u=e.key,l=e.type,i=n[t];if(null===i&&null==e.key||i&&u==i.key&&l==i.type&&!(2&i.__u))return t;if(r>(null==i||2&i.__u?0:1))for(_=t-1,o=t+1;_>=0||o<n.length;){if(_>=0){if((i=n[_])&&!(2&i.__u)&&u==i.key&&l==i.type)return _;_--}if(o<n.length){if((i=n[o])&&!(2&i.__u)&&u==i.key&&l==i.type)return o;o++}}return-1}function E(e,n,t){"-"==n[0]?e.setProperty(n,null==t?"":t):e[n]=null==t?"":"number"!=typeof t||p.test(n)?t:t+"px"}function H(e,n,t,r,_){var o,u;e:if("style"==n)if("string"==typeof t)e.style.cssText=t;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(n in r)t&&n in t||E(e.style,n,"");if(t)for(n in t)r&&t[n]==r[n]||E(e.style,n,t[n])}else if("o"==n[0]&&"n"==n[1])o=n!=(n=n.replace(l,"$1")),u=n.toLowerCase(),n=u in e||"onFocusOut"==n||"onFocusIn"==n?u.slice(2):n.slice(2),e.l||(e.l={}),e.l[n+o]=t,t?r?t.u=r.u:(t.u=i,e.addEventListener(n,o?a:c,o)):e.removeEventListener(n,o?a:c,o);else{if("http://www.w3.org/2000/svg"==_)n=n.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=n&&"height"!=n&&"href"!=n&&"list"!=n&&"form"!=n&&"tabIndex"!=n&&"download"!=n&&"rowSpan"!=n&&"colSpan"!=n&&"role"!=n&&"popover"!=n&&n in e)try{e[n]=null==t?"":t;break e}catch(e){}"function"==typeof t||(null==t||!1===t&&"-"!=n[4]?e.removeAttribute(n):e.setAttribute(n,"popover"==n&&1==t?"":t))}}function P(e){return function(t){if(this.l){var r=this.l[t.type+e];if(null==t.t)t.t=i++;else if(t.t<r.u)return;return r(n.event?n.event(t):t)}}}function A(e,t,r,_,o,u,l,i,c,a){var s,f,p,m,g,k,w,S,D,C,x,E,H,P,A,T,U,M=t.type;if(null!=t.constructor)return null;128&r.__u&&(c=!!(32&r.__u),u=[i=t.__e=r.__e]),(s=n.__b)&&s(t);e:if("function"==typeof M)try{if(S=t.props,D="prototype"in M&&M.prototype.render,C=(s=M.contextType)&&_[s.__c],x=s?C?C.props.value:s.__:_,r.__c?w=(f=t.__c=r.__c).__=f.__E:(D?t.__c=f=new M(S,x):(t.__c=f=new b(S,x),f.constructor=M,f.render=B),C&&C.sub(f),f.props=S,f.state||(f.state={}),f.context=x,f.__n=_,p=f.__d=!0,f.__h=[],f._sb=[]),D&&null==f.__s&&(f.__s=f.state),D&&null!=M.getDerivedStateFromProps&&(f.__s==f.state&&(f.__s=d({},f.__s)),d(f.__s,M.getDerivedStateFromProps(S,f.__s))),m=f.props,g=f.state,f.__v=t,p)D&&null==M.getDerivedStateFromProps&&null!=f.componentWillMount&&f.componentWillMount(),D&&null!=f.componentDidMount&&f.__h.push(f.componentDidMount);else{if(D&&null==M.getDerivedStateFromProps&&S!==m&&null!=f.componentWillReceiveProps&&f.componentWillReceiveProps(S,x),!f.__e&&null!=f.shouldComponentUpdate&&!1===f.shouldComponentUpdate(S,f.__s,x)||t.__v==r.__v){for(t.__v!=r.__v&&(f.props=S,f.state=f.__s,f.__d=!1),t.__e=r.__e,t.__k=r.__k,t.__k.some(function(e){e&&(e.__=t)}),E=0;E<f._sb.length;E++)f.__h.push(f._sb[E]);f._sb=[],f.__h.length&&l.push(f);break e}null!=f.componentWillUpdate&&f.componentWillUpdate(S,f.__s,x),D&&null!=f.componentDidUpdate&&f.__h.push(function(){f.componentDidUpdate(m,g,k)})}if(f.context=x,f.props=S,f.__P=e,f.__e=!1,H=n.__r,P=0,D){for(f.state=f.__s,f.__d=!1,H&&H(t),s=f.render(f.props,f.state,f.context),A=0;A<f._sb.length;A++)f.__h.push(f._sb[A]);f._sb=[]}else do{f.__d=!1,H&&H(t),s=f.render(f.props,f.state,f.context),f.state=f.__s}while(f.__d&&++P<25);f.state=f.__s,null!=f.getChildContext&&(_=d(d({},_),f.getChildContext())),D&&!p&&null!=f.getSnapshotBeforeUpdate&&(k=f.getSnapshotBeforeUpdate(m,g)),T=s,null!=s&&s.type===y&&null==s.key&&(T=O(s.props.children)),i=N(e,h(T)?T:[T],t,r,_,o,u,l,i,c,a),f.base=t.__e,t.__u&=-161,f.__h.length&&l.push(f),w&&(f.__E=f.__=null)}catch(e){if(t.__v=null,c||null!=u)if(e.then){for(t.__u|=c?160:128;i&&8==i.nodeType&&i.nextSibling;)i=i.nextSibling;u[u.indexOf(i)]=null,t.__e=i}else for(U=u.length;U--;)v(u[U]);else t.__e=r.__e,t.__k=r.__k;n.__e(e,t,r)}else null==u&&t.__v==r.__v?(t.__k=r.__k,t.__e=r.__e):i=t.__e=I(r.__e,t,r,_,o,u,l,c,a);return(s=n.diffed)&&s(t),128&t.__u?void 0:i}function T(e,t,r){for(var _=0;_<r.length;_++)U(r[_],r[++_],r[++_]);n.__c&&n.__c(t,e),e.some(function(t){try{e=t.__h,t.__h=[],e.some(function(e){e.call(t)})}catch(e){n.__e(e,t.__v)}})}function O(e){return"object"!=typeof e||null==e||e.__b&&e.__b>0?e:h(e)?e.map(O):d({},e)}function I(t,r,_,o,u,l,i,c,a){var f,p,d,m,g,y,b,w=_.props,S=r.props,D=r.type;if("svg"==D?u="http://www.w3.org/2000/svg":"math"==D?u="http://www.w3.org/1998/Math/MathML":u||(u="http://www.w3.org/1999/xhtml"),null!=l)for(f=0;f<l.length;f++)if((g=l[f])&&"setAttribute"in g==!!D&&(D?g.localName==D:3==g.nodeType)){t=g,l[f]=null;break}if(null==t){if(null==D)return document.createTextNode(S);t=document.createElementNS(u,D,S.is&&S),c&&(n.__m&&n.__m(r,l),c=!1),l=null}if(null==D)w===S||c&&t.data==S||(t.data=S);else{if(l=l&&e.call(t.childNodes),w=_.props||s,!c&&null!=l)for(w={},f=0;f<t.attributes.length;f++)w[(g=t.attributes[f]).name]=g.value;for(f in w)if(g=w[f],"children"==f);else if("dangerouslySetInnerHTML"==f)d=g;else if(!(f in S)){if("value"==f&&"defaultValue"in S||"checked"==f&&"defaultChecked"in S)continue;H(t,f,null,g,u)}for(f in S)g=S[f],"children"==f?m=g:"dangerouslySetInnerHTML"==f?p=g:"value"==f?y=g:"checked"==f?b=g:c&&"function"!=typeof g||w[f]===g||H(t,f,g,w[f],u);if(p)c||d&&(p.__html==d.__html||p.__html==t.innerHTML)||(t.innerHTML=p.__html),r.__k=[];else if(d&&(t.innerHTML=""),N("template"==r.type?t.content:t,h(m)?m:[m],r,_,o,"foreignObject"==D?"http://www.w3.org/1999/xhtml":u,l,i,l?l[0]:_.__k&&k(_,0),c,a),null!=l)for(f=l.length;f--;)v(l[f]);c||(f="value","progress"==D&&null==y?t.removeAttribute("value"):null!=y&&(y!==t[f]||"progress"==D&&!y||"option"==D&&y!=w[f])&&H(t,f,y,w[f],u),f="checked",null!=b&&b!=t[f]&&H(t,f,b,w[f],u))}return t}function U(e,t,r){try{if("function"==typeof e){var _="function"==typeof e.__u;_&&e.__u(),_&&null==t||(e.__u=e(t))}else e.current=t}catch(e){n.__e(e,r)}}function M(e,t,r){var _,o;if(n.unmount&&n.unmount(e),(_=e.ref)&&(_.current&&_.current!=e.__e||U(_,null,t)),null!=(_=e.__c)){if(_.componentWillUnmount)try{_.componentWillUnmount()}catch(e){n.__e(e,t)}_.base=_.__P=null}if(_=e.__k)for(o=0;o<_.length;o++)_[o]&&M(_[o],t,r||"function"!=typeof e.type);r||v(e.__e),e.__c=e.__=e.__e=void 0}function B(e,n,t){return this.constructor(e,t)}e=f.slice,n={__e:function(e,n,t,r){for(var _,o,u;n=n.__;)if((_=n.__c)&&!_.__)try{if((o=_.constructor)&&null!=o.getDerivedStateFromError&&(_.setState(o.getDerivedStateFromError(e)),u=_.__d),null!=_.componentDidCatch&&(_.componentDidCatch(e,r||{}),u=_.__d),u)return _.__E=_}catch(n){e=n}throw e}},t=0,b.prototype.setState=function(e,n){var t;t=null!=this.__s&&this.__s!=this.state?this.__s:this.__s=d({},this.state),"function"==typeof e&&(e=e(d({},t),this.props)),e&&d(t,e),null!=e&&this.__v&&(n&&this._sb.push(n),S(this))},b.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),S(this))},b.prototype.render=y,r=[],o="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,u=function(e,n){return e.__v.__b-n.__v.__b},D.__r=0,l=/(PointerCapture)$|Capture$/i,i=0,c=P(!1),a=P(!0);var K,L,W,F,R=function(e){var n,t=e.selector,r=e.inline,_=e.clientSpecified,o=[],u=document.currentScript||(n=document.getElementsByTagName("script"))[n.length-1];return!0===r&&o.push(u.parentNode),!0!==_||t||(t=function(e){var n=e.attributes,t=null;return Object.keys(n).forEach(function(e){n.hasOwnProperty(e)&&"data-mount-in"===n[e].name&&(t=n[e].nodeValue)}),t}(u)),t&&[].forEach.call(document.querySelectorAll(t),function(e){o.push(e)}),o},G=0,j=[],q=n,V=q.__b,$=q.__r,J=q.diffed,z=q.__c,X=q.unmount,Q=q.__;function Y(e,n){q.__h&&q.__h(L,e,G||n),G=0;var t=L.__H||(L.__H={__:[],__h:[]});return e>=t.__.length&&t.__.push({}),t.__[e]}function Z(e){return G=1,function(e,n){var t=Y(K++,2);if(t.t=e,!t.__c&&(t.__=[ie(void 0,n),function(e){var n=t.__N?t.__N[0]:t.__[0],r=t.t(n,e);n!==r&&(t.__N=[r,t.__[1]],t.__c.setState({}))}],t.__c=L,!L.__f)){var r=function(e,n,r){if(!t.__c.__H)return!0;var o=t.__c.__H.__.filter(function(e){return!!e.__c});if(o.every(function(e){return!e.__N}))return!_||_.call(this,e,n,r);var u=t.__c.props!==e;return o.forEach(function(e){if(e.__N){var n=e.__[0];e.__=e.__N,e.__N=void 0,n!==e.__[0]&&(u=!0)}}),_&&_.call(this,e,n,r)||u};L.__f=!0;var _=L.shouldComponentUpdate,o=L.componentWillUpdate;L.componentWillUpdate=function(e,n,t){if(this.__e){var u=_;_=void 0,r(e,n,t),_=u}o&&o.call(this,e,n,t)},L.shouldComponentUpdate=r}return t.__N||t.__}(ie,e)}function ee(e,n){var t=Y(K++,3);!q.__s&&le(t.__H,n)&&(t.__=e,t.u=n,L.__H.__h.push(t))}function ne(e){return G=5,function(e,n){var t=Y(K++,7);return le(t.__H,n)&&(t.__=e(),t.__H=n,t.__h=e),t.__}(function(){return{current:e}},[])}function te(){for(var e;e=j.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(oe),e.__H.__h.forEach(ue),e.__H.__h=[]}catch(n){e.__H.__h=[],q.__e(n,e.__v)}}q.__b=function(e){L=null,V&&V(e)},q.__=function(e,n){e&&n.__k&&n.__k.__m&&(e.__m=n.__k.__m),Q&&Q(e,n)},q.__r=function(e){$&&$(e),K=0;var n=(L=e.__c).__H;n&&(W===L?(n.__h=[],L.__h=[],n.__.forEach(function(e){e.__N&&(e.__=e.__N),e.u=e.__N=void 0})):(n.__h.forEach(oe),n.__h.forEach(ue),n.__h=[],K=0)),W=L},q.diffed=function(e){J&&J(e);var n=e.__c;n&&n.__H&&(n.__H.__h.length&&(1!==j.push(n)&&F===q.requestAnimationFrame||((F=q.requestAnimationFrame)||_e)(te)),n.__H.__.forEach(function(e){e.u&&(e.__H=e.u),e.u=void 0})),W=L=null},q.__c=function(e,n){n.some(function(e){try{e.__h.forEach(oe),e.__h=e.__h.filter(function(e){return!e.__||ue(e)})}catch(t){n.some(function(e){e.__h&&(e.__h=[])}),n=[],q.__e(t,e.__v)}}),z&&z(e,n)},q.unmount=function(e){X&&X(e);var n,t=e.__c;t&&t.__H&&(t.__H.__.forEach(function(e){try{oe(e)}catch(e){n=e}}),t.__H=void 0,n&&q.__e(n,t.__v))};var re="function"==typeof requestAnimationFrame;function _e(e){var n,t=function(){clearTimeout(r),re&&cancelAnimationFrame(n),setTimeout(e)},r=setTimeout(t,35);re&&(n=requestAnimationFrame(t))}function oe(e){var n=L,t=e.__c;"function"==typeof t&&(e.__c=void 0,t()),L=n}function ue(e){var n=L;e.__c=e.__(),L=n}function le(e,n){return!e||e.length!==n.length||n.some(function(n,t){return n!==e[t]})}function ie(e,n){return"function"==typeof n?n(e):n}var ce=["Blue","Brown","BurlyWood","Cyan","DarkBlue","DarkCyan","DarkGray","DarkGrey","DarkGreen","DarkKhaki","DarkMagenta","DarkOliveGreen","DarkOrange","DarkOrchid","DarkRed","DarkSalmon","DarkSlateBlue","DarkSlateGray","DarkSlateGrey","DarkTurquoise","DarkViolet","DeepSkyBlue","DimGray","DimGrey","DodgerBlue","Gainsboro","Gray","Green","Indigo","LavenderBlush","LawnGreen","Magenta","Maroon","PowderBlue","Purple","RebeccaPurple","Red","RosyBrown","RoyalBlue","SaddleBrown","Salmon","SandyBrown","Silver","SteelBlue","Thistle","Turquoise","Violet"],ae=["❤️ ","✋","👍","👎","😂","😍","😐","💀","😡","😳"];String.prototype.escape=function(){return this.replace(/[&<div>]/g,function(e){return{"&":"&amp;","<":"&lt;",">":"&gt;",";":"_","\\\\":"_","//":"_","^":"_","|":"_","%":"_",$:"_"}[e]||e})};var se,fe,pe=function(e){return localStorage.getItem(e)},he=function(e,n){return localStorage.setItem(e,n)},de=function(e){return JSON.stringify(e)},ve=function(e){for(var n=-3,t=0;t<e.length;t++){var r=e.toUpperCase().charCodeAt(t);r>64&&r<91&&(n+=r-64)}return n>0?n:Math.random()*ce.length|0},me=function(e){var n=e.isAdmin,t=void 0!==n&&n;return m("a",{className:"tsc-usrname",style:{color:e.color},title:t?"admin":"user",href:e.href},t?"*":null,e.usrname,":")},ge=function(e){var n=e.usrname,t=e.message,r=e.isAdmin;return m("div",{className:"tsc-msg"},m(me,{usrname:n,href:e.href,isAdmin:void 0!==r&&r,color:""+ce[ve(n.slice(0,5))]}),"  ",t.escape())},ye=function(e){var n=e.conn,t=Z([]),r=t[0],_=t[1],o=ne(null);return ee(function(){n.onmessage=function(e){try{var n=JSON.parse(e.data);n.hasOwnProperty("author")&&n.hasOwnProperty("message")&&function(e){_(r.concat({usrname:null==e.author?"x":e.author,message:e.message}).slice(Math.max(r.length-100,0))),setTimeout(function(){var e;null==(e=o.current)||e.scrollIntoView({behavior:"smooth"})},150)}(n)}catch(e){console.log("tsc-err: ",e)}}},[r]),m("div",{id:"tsc-messages",className:"tsc-scroll-shadows"},0==r.length?m("div",{className:"tsc-no-msg"},"No messages yet, be the first to post a message !"):r.map(function(e,n){return m(ge,{usrname:e.usrname,key:n,href:e.href,message:e.message,isAdmin:!!e.isAdmin&&e.isAdmin})})," ",m("div",{ref:o}))},be=function(e){return function(e){var n;try{n=new URL(e)}catch(e){return!1}return"http:"===n.protocol||"https:"===n.protocol}(e)&&e.includes("twitter.com")&&e.includes("space")?e.split("/")[e.split("/").length-1].split("?")[0]:""},ke="",we=function(e,n,t){void 0===t&&(t="subscribe");var r={action:t,topic:""+Ne(n)};e.send(de(r)),console.log("tsc::"+t+" on "+n)},Se=function(e,n,t){null!==pe("roomKey")&&(ke=pe("roomKey")),ke.length>0&&we(e,ke,"unsubscribe"),we(e,n)},De=function(e,n,t,r,_){void 0===_&&(_=1),13===_&&r.length>0&&"roomKey"===t&&Se(n,r),he(t,r)},Ne=function(e){return function(e){return null==e?"0":e.split("").reduce(function(e,n){return(e=(e<<5)-e+n.charCodeAt(0))&e},0)}(be(e).length>0?be(e):e)},Ce=function(e){var n=e.conn,t=e.setSettingsActive,r=e.usr,_=void 0===r?"":r,o=Z(pe("roomKey")),u=o[0],l=o[1],i=Z("null"!==_&&null!==_?_.length>0?_:null!==pe("usrIn")&&"null"!==pe("usrIn")?pe("usrIn"):"":""),c=i[0],a=i[1],s="Write a room Key",f="Write your username";return he("usrIn",c),m("div",{id:"tsc-setting-box"},m("h2",null,"tidi-settings"),m("hr",null),m("b",null,Ne(u),"|",c),m("hr",null),m("small",null,s,": ",m("b",null,u)),m("input",{type:"text",className:"tsc-setting-input",placeholder:s,onChange:function(e){""!==e.target.value&&he("roomKey",e.target.value),l(e.target.value)},onKeyUp:function(e){return De(0,n,"roomKey",e.target.value,e.target.keyCode)},value:u}),0==_.length?m("span",null,m("small",null,f,": ",m("b",null,c)),m("input",{className:"tsc-setting-input",type:"text",onChange:function(e){""!==e.target.value&&he("usrIn",e.target.value),a(e.target.value)},onKeyUp:function(e){return De(0,n,"usrIn",e.target.value,e.target.keyCode)},placeholder:f,value:c})):null,m("br",null),m("button",{className:"tsc-setting-connect",onClick:function(){if(0!=u.length||0!=c.length){De(0,n,"roomKey",u,13),De(0,n,"usrIn",c,13);var e={action:"goo",topic:u,message:de({u:c,r:""+Ne(u)})};console.log(e),n.send(de(e)),t(!1)}else alert("These credentials cannot be empty...")}},"CONNECT TO THE ROOM"),m("br",null),m("br",null),m("div",{className:"tsc-foot"},"by ",m("a",{target:"_blank",href:"https://twitter.com/sanixdarker"},"@sanixdarker")),m("br",null))},xe=function(e){var n=e.conn,t=e.usr,r=e.isSettingsActive,_=void 0!==r&&r;return m("div",null,m("div",{style:{display:_?"block":"none"}},m(Ce,{setSettingsActive:e.setSettingsActive,conn:n,usr:void 0===t?"":t})),m("div",{style:{display:_?"none":"block"}},m(ye,{conn:n})))},Ee="",He=Date.now(),Pe=(se=function(e){var n=e.conn,t=e.usr,r=Z(!0),_=r[0],o=r[1],u=Z(!1),l=u[0],i=u[1],c=Z(""),a=c[0],s=c[1],f=ne(null);return ee(function(){null!==pe("roomKey")&&Se(n,pe("roomKey"))},[]),ee(function(){f.current.focus()},[a]),m("div",{id:"tsc-ttspch-box"},m("div",{className:_?"tsc-hide":"tsc-show"},m(xe,{conn:n,setSettingsActive:i,isSettingsActive:l,usr:t}),l?null:m("div",null,m(function(){return m("div",{className:"tsc-emojibox"},ae.map(function(e,n){return m("button",{key:n,onClick:function(){return s(""+a+e)}},e)}))},null),m(function(){return m("input",{type:"text",maxlength:"130",onChange:function(e){return s(e.target.value)},onKeyUp:function(e){return function(e){if(13===e.keyCode){if(null==pe("usrIn")||"null"==pe("usrIn"))return void alert("Please set up your username.");if(null==pe("roomKey")||"null"==pe("roomKey"))return void alert("Please set up your roomKey.");if(e.target.value.length>0){var t=e.target.value;if(t.length>0){if(Ee!=t||Date.now()-He>1e4){Ee=t,He=Date.now();var r={author:pe("usrIn").escape().substring(0,13),message:t.escape().substring(0,120)},_={action:"publish",topic:""+Ne(pe("roomKey")),message:de(r)};setTimeout(function(){n.send(de(_))},1e3)}s("")}}}}(e)},value:a,autoComplete:"off",autoFocus:!0,ref:f,placeholder:"Enter your message here...",id:"tsc-text-box"})},null))),m(function(){return m("button",{onClick:function(){return o(!_)},className:"tsc-toggle-button "+(_?"":"tsc-hide-button")},_?"HIDE":"SHOW"," TIDI BOX")},null),_?m("button",{onClick:function(){return i(!l)}},"⚙️"):null)},fe=se,{render:function(t){void 0===t&&(t={});var r=t.selector;void 0===r&&(r=null);var _=t.inline;void 0===_&&(_=!1);var o=t.clean;void 0===o&&(o=!1);var u=t.clientSpecified;void 0===u&&(u=!1);var l=t.defaultProps;void 0===l&&(l={});var i=R({selector:r,inline:_,clientSpecified:u}),c=function(){if(i.length>0){var t=R({selector:r,inline:_,clientSpecified:u});return function(t,r,_,o,u){r.forEach(function(r){var _=r;if(!_._habitat){_._habitat=!0;var l=function(e,n){void 0===n&&(n={});var t=e.attributes,r=Object.assign({},n);return Object.keys(t).forEach(function(e){if(t.hasOwnProperty(e)){var n=t[e].name;if(!n||"string"!=typeof n)return!1;var _=n.split(/(data-props?-)/).pop()||"";n!==(_=_.replace(/-([a-z])/gi,function(e,n){return n.toUpperCase()}))&&(r[_]=t[e].nodeValue)}}),[].forEach.call(e.getElementsByTagName("script"),function(e){var n={};if(e.hasAttribute("type")){if("text/props"!==e.getAttribute("type")&&"application/json"!==e.getAttribute("type"))return;try{n=JSON.parse(e.innerHTML)}catch(e){throw new Error(e)}Object.assign(r,n)}}),r}(r,u)||u;return o&&(_.innerHTML=""),function(t,r){var _,o,u;r==document&&(r=document.documentElement),n.__&&n.__(t,r),_=r.__k,o=[],u=[],A(r,t=r.__k=m(y,null,[t]),_||s,s,r.namespaceURI,_?null:r.firstChild?e.call(r.childNodes):null,o,_?_.__e:r.firstChild,!1,u),T(o,t,u)}(m(t,l),_)}})}(fe,t,0,o,l)}};c(),document.addEventListener("DOMContentLoaded",c),document.addEventListener("load",c)}}),Ae=new WebSocket("ws://127.0.0.1:1324/socket");Pe.render({selector:"[data-tidi-component]",defaultProps:{conn:Ae,usr:""},clean:!0});
//# sourceMappingURL=index.module.js.map
